{"ast":null,"code":"var _jsxFileName = \"/Users/minakhosravi/Desktop/chat/FricFracChat/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport './App.css';\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nrequire('dotenv').config();\n\nfirebase.initializeApp({\n  apiKey: process.env.apiKey,\n  authDomain: process.env.authDomain,\n  projectId: process.env.projectId,\n  storageBucket: process.env.storageBucket,\n  messagingSenderId: process.env.messagingSenderId,\n  appId: process.env.appId,\n  measurementId: process.env.measurementId\n});\nconst auth = firebase.auth();\nconst firestore = firebase.firestore();\n\nconst [user] = function App() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: /*#__PURE__*/_jsxDEV(\"section\", {\n        children: user ? /*#__PURE__*/_jsxDEV(\"chatRoom\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 19\n        }, this) : /*#__PURE__*/_jsxDEV(\"signIn\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n};\n\nfunction SignIn() {\n  const signInWithGoogle = () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    auth.signInWithPopup(provider);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: signInWithGoogle,\n    children: \" Sign in with Google \"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n\n_c = SignIn;\n;\n\nfunction SignOut() {\n  return auth.currentUser && /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: () => auth.SignOut(),\n    children: \" Sign Out\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n\n_c2 = SignOut;\n;\n\nfunction ChatRoom() {\n  _s();\n\n  const messagesRef = firestore.collection('messages');\n  const query = messagesRef.orderBy('createdAt').limit(25);\n  const [messages] = useCollectionData(query, {\n    idField: 'id'\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: messages && messages.map(msg => /*#__PURE__*/_jsxDEV(ChatMessage, {\n        massage: msg\n      }, msg.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 40\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \" Submit \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n\n_s(ChatRoom, \"O0dyPdqNWV0yO5QBetp+6dw5Oyk=\", false, function () {\n  return [useCollectionData];\n});\n\n_c3 = ChatRoom;\n;\n\nfunction ChatMessage(props) {\n  const {\n    text,\n    uid,\n    photoURL\n  } = props.message;\n  const messageClass = uid === auth.currentUser.uid ? 'sent' : 'received';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `message ${messageClass}`,\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: photoURL\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\" \", text, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n}\n\n_c4 = ChatMessage;\nexport default App;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"SignIn\");\n$RefreshReg$(_c2, \"SignOut\");\n$RefreshReg$(_c3, \"ChatRoom\");\n$RefreshReg$(_c4, \"ChatMessage\");","map":{"version":3,"sources":["/Users/minakhosravi/Desktop/chat/FricFracChat/src/App.js"],"names":["React","firebase","useAuthState","useCollectionData","require","config","initializeApp","apiKey","process","env","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","firestore","user","App","SignIn","signInWithGoogle","provider","GoogleAuthProvider","signInWithPopup","SignOut","currentUser","ChatRoom","messagesRef","collection","query","orderBy","limit","messages","idField","map","msg","id","ChatMessage","props","text","uid","photoURL","message","messageClass"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\nimport { useAuthState } from 'react-firebase-hooks/auth'\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\nrequire ('dotenv').config();\n\nfirebase.initializeApp({\n  apiKey: process.env.apiKey,\n  authDomain: process.env.authDomain,\n  projectId: process.env.projectId,\n  storageBucket: process.env.storageBucket,\n  messagingSenderId: process.env.messagingSenderId,\n  appId: process.env.appId,\n  measurementId: process.env.measurementId\n\n})\n\n\n\n\nconst auth = firebase.auth();\nconst firestore = firebase.firestore();\nconst [user] = \n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <section>\n          {user ? <chatRoom /> : <signIn />}\n        </section>\n      </header>\n    </div>\n  );\n}\n\n\nfunction SignIn() {\n  const signInWithGoogle = () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    auth.signInWithPopup(provider);\n  };\n\n  return(\n    <button onClick = {signInWithGoogle}> Sign in with Google </button>\n  )\n\n};\n\nfunction SignOut() {\n  return auth.currentUser && (\n    <button onClick = {() => auth.SignOut()}> Sign Out</button>\n  )\n\n};\n\n\n\n\nfunction ChatRoom() {\n  const messagesRef = firestore.collection('messages');\n  const query = messagesRef.orderBy('createdAt').limit(25);\n\n  const [messages] = useCollectionData(query, {idField: 'id'});\n\n  return(\n    <>\n    <div>\n      {messages && messages.map(msg => <ChatMessage key={msg.id} massage={msg} />)}\n    </div>\n    \n    <form>\n      <input />\n      <button type = 'submit'> Submit </button>\n\n    </form>\n    </>\n  )\n\n};\n\n\nfunction ChatMessage(props) {\n  const {text, uid, photoURL} = props.message;\n  const messageClass = uid === auth.currentUser.uid ? 'sent' : 'received' ;\n\n\n  return (\n    <div className = {`message ${messageClass}`}>\n      <img src = {photoURL} />\n      <p> {text} </p>\n      \n\n    </div>\n    \n  )\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}